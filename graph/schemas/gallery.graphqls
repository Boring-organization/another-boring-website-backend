type Gallery {
    id: String!
    name: String!
    author: User!
    createdAt: Int64!
    editedAt: Int64
    deletedAt: Int64
    isClosed: Boolean!
    images: [Image!]!
}

input NewGallery {
    name: String! @minLength(value: 2) @maxLength(value: 100) @notEmptyString(state: true)
    isClosed: Boolean!
    imageIds: [String!]! @maxArrayLength(value: 1000)
}

input ImageIds {
    imageIds: [String!]! @maxArrayLength(value: 1000)
}

extend type Mutation {
    createGallery(newGallery: NewGallery!): Gallery! @authenticated(state: true)
    addImagesFromGallery(imageIds: ImageIds!): Gallery! @authenticated(state: true)
    deleteImagesFromGallery(imageIds: ImageIds!): Gallery! @authenticated(state: true)
    updateGallery(galleryIdHolder: IdHolder!, newGallery: NewGallery!): Gallery! @authenticated(state: true)
    deleteGallery(galleryIdHolder: IdHolder!): DeleteResult! @authenticated(state: true)
}

extend type Query {
    getGallery(galleryIdHolder: IdHolder!): Gallery! @authenticated(state: true)
    getMyGalleries(paginationSettings: ListPaginationSettings!): [Gallery!]! @authenticated(state: true)
    getUserGalleries(paginationSettings: ListPaginationSettings!): [Gallery!]! @authenticated(state: true)
}